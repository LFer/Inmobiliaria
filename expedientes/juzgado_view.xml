<?xml version="1.0" encoding="UTF-8"?>
<openerp>
<data>
    <menuitem id="base.menu_abogados" name="Abogados" parent="base.menu_administration" sequence="9"/>           
    <record id="view_juzgado_form" model="ir.ui.view">
        <field name="name">juzgado.form</field>
        <field name="model">juzgado</field>
        <field eval="1" name="priority"/>
        <field name="arch" type="xml">
            <form string="Juzgado" version="7.0">         
            <sheet>
                <label for="name" string="DATOS BÁSICOS"/>
                <group>                    
                    <field name="name" placeholder="Juzgado" style="width: 60%%"/>
                </group>
                <label for="street" string="DIRECCIÓN"/>
                <group col="4">
                    <div>
                        <field name="street" placeholder="Calle..." style="width: 60%%"/>
                        <field name="street2" placeholder="y calle..." style="width: 60%%"/>
                        <field name="barrio" placeholder="Barrio" style="width: 60%%"/>
                        <div class="address_format">
                            <field name="city" placeholder="Ciudad o Localidad" style="width: 20%%"/>
                            <field name="state_id" class="oe_no_button" placeholder="Departamento" style="width: 20%%" options='{"no_open": True}' on_change="onchange_state(state_id)"/>
                            <field name="zip" placeholder="Código postal" style="width: 19%%"/>
                        </div>
                        <field name="country_id" placeholder="País" class="oe_no_button" options='{"no_open": True}' style="width: 20%%"/>
                    </div>
                </group>
               
                <label for="active" string="Activo"/>
                <field name="active"/>                                                
                <notebook colspan="4">
                    <page string="Observaciones" >
                        <group colspan="4" col="1">
                            <field name="notas_ids" nolabel="1" >
                                <tree string="" delete="0">
                                    <field name="texto" string="Texto de la nota"/>
                                    <field name="fecha" string="Fecha"/>
                                    <field name="user_id" string="Usuario"/>
                                </tree>
                            </field>
                        </group>
                     </page>    
                </notebook>
            </sheet>
            </form>
        </field>
    </record>

    <!-- fichero Kanban View -->
    <record model="ir.ui.view" id="juzgado_kanban_view">
        <field name="name">juzgado.kanban</field>
        <field name="model">juzgado</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name"/>
				<templates>
					<t t-name="kanban-box">
						<div class="oe_kanban_details">
                            <h4 class="oe_partner_heading"><a type="open"><field name="name"/></a></h4>
                            <div class="oe_kanban_partner_categories"/>
                            <div class="oe_kanban_partner_links"/>
                            <ul>
                                <li ><field name="name"/></li>
                                <li ><field name="street"/></li>
                             </ul>    
                        </div>
					</t>						
				</templates>
            </kanban>
        </field>
    </record>

    <record id="view_juzgado_filter" model="ir.ui.view">
         <field name="name">juzgado.select</field>
         <field name="model">juzgado</field>
         <field name="arch" type="xml">
             <search string="Search Juzgado">
             	<field name="name" filter_domain="[('name','ilike',self)]"/>
                <separator/>

                <group expand="0" string="Agrupar por...">
                    <filter string="Nombre" context="{'group_by': 'name'}"/>
                </group>
            </search>
         </field>
     </record>


    <record id="view_juzgado_tree" model="ir.ui.view">
        <field name="name">juzgado.tree</field>
        <field name="model">juzgado</field>
        <field eval="1" name="priority"/>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Juzgados">
                <field name="name" />
			</tree>
        </field>
    </record>

        
    <record id="action_juzgado_form" model="ir.actions.act_window">
        <field name="name">Juzgados</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">juzgado</field>
        <field name="view_type">form</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="search_view_id" ref="view_juzgado_filter"/>
        <field name="filter" eval="True"/>
    </record>
	
    <record id="action_juzgado_form_view1" model="ir.actions.act_window.view">
        <field eval="0" name="sequence"/>
        <field name="view_mode">kanban</field>
        <field name="view_id" ref="juzgado_kanban_view"/>
        <field name="act_window_id" ref="action_juzgado_form"/>
    </record>
    <record id="action_juzgado_form_view2" model="ir.actions.act_window.view">
        <field eval="2" name="sequence"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_juzgado_form"/>
        <field name="act_window_id" ref="action_juzgado_form"/>
    </record>
    <record id="action_juzgado_tree_view1" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_juzgado_tree"/>
        <field name="act_window_id" ref="action_juzgado_form"/>
    </record>
        

    <menuitem id="menu_juzgado_form" parent="base.menu_abogados" action="action_juzgado_form" sequence="2"/>

     
        
</data>
</openerp>

    
